/* src/css/CarDetail.css */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Michroma&display=swap');

/* --- 1. GLOBAL THEME (Dark Mode - Slightly Lighter) --- */
.car-detail-page {
    /* Deep Charcoal/Navy Gradient */
    background: linear-gradient(to bottom, #050505 0%, #0a1529 40%, #0e2040 100%);
    overflow-x: hidden;
    color: #ffffff;
    font-family: 'Inter', sans-serif;
}

.car-detail-page .spec-value,
.car-detail-page .spec-value span {
    font-family: 'Michroma', sans-serif !important;
    
    /* TITANIC SIZE */
    font-size: 5vw !important; 
    
    font-weight: 900 !important;
    line-height: 0.85 !important;      
    letter-spacing: -6px !important;
    color: #ffffff !important;
    
    display: flex !important;
    align-items: baseline !important; 
    text-shadow: 0 0 60px rgba(0, 48, 135, 0.4) !important;
    margin: 0 !important;
    
    /* Remove 'order' properties */
    order: unset !important;
}

/* --- 2. ACT 1: THE SHOWROOM HERO ("The Predator") --- */
.showroom-hero {
    position: relative;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding-top: 12vh;
    background: radial-gradient(circle at 50% 50%, #112548 0%, #020202 70%);
    overflow: hidden;
}

.watermark-container {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    position: relative;
    z-index: 1;
    font-family: 'Michroma', sans-serif; 
    font-size: clamp(5rem, 9vw, 18rem); 
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 0.1vw; 
    transform: scaleX(2.2) skewX(-12deg); 
    margin-bottom: -8vh;
    line-height: 1;
    
    color: transparent;
    -webkit-text-stroke: 3px rgba(255, 255, 255, 0.8);
    text-shadow: 
        0 0 15px rgba(255, 255, 255, 0.7), 
        0 0 30px rgba(255, 255, 255, 0.4), 
        0 0 60px rgba(255, 255, 255, 0.2),
        0 0 100px rgba(255, 255, 255, 0.1);

    filter: brightness(1.2) contrast(1.1);
    opacity: 1;
    pointer-events: none;
    transition: all 0.3s ease; 
}

/* MOVEMENT: The "Hard Stop" Car Arrival */
@keyframes carHardStop {
    0% {
        opacity: 0;
        transform: translateX(150px) scale(0.95); 
        filter: blur(20px); 
    }
    60% {
        opacity: 1;
        filter: blur(0px);
    }
    100% {
        opacity: 1;
        transform: translateX(0) scale(1); 
        filter: blur(0);
    }
}

.car-image-container {
    position: relative;
    z-index: 2;
    width: 68%; 
    max-width: 1100px;
    opacity: 0;
    transform: translateX(100px);
    transition: width 0.5s ease;
}

.showroom-hero.is-visible .car-image-container {
    animation: carHardStop 1.4s cubic-bezier(0.19, 1, 0.22, 1) forwards;
    animation-delay: 0.2s; 
}

.main-car-img {
    width: 100%;
    height: auto;
    filter: drop-shadow(0 40px 50px rgba(0,0,0,0.6));
}


/* --- 3. ACT 2: PERFORMANCE SPECS --- */
.performance-specs-section {
    position: relative;
    z-index: 5;
    padding: 0 5%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(15px);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    overflow: hidden;
}

.specs-container {
    display: grid;
    grid-template-columns: 45% 55%;
    width: 100%;
    max-width: 1600px;
    align-items: center;
    height: 100%;
}

.car-detail-page .specs-data-column {
    gap: 20px !important;
    justify-content: center;
}

.car-detail-page .spec-group {
    display: flex !important;
    flex-direction: column-reverse !important; /* FLIPS the order */
    justify-content: flex-start !important;
    margin: 0 !important;
    padding: 10px 0 !important;
    transform: translateY(0);
    opacity: 0;
    transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.performance-specs-section.is-visible .spec-group { opacity: 1; transform: translateY(0); }
.performance-specs-section.is-visible .spec-group:nth-child(1) { transition-delay: 0.1s; }
.performance-specs-section.is-visible .spec-group:nth-child(2) { transition-delay: 0.2s; }
.performance-specs-section.is-visible .spec-group:nth-child(3) { transition-delay: 0.3s; }

.car-detail-page .spec-label {
    font-family: 'Inter', sans-serif;
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--subaru-blue, #003087);
    text-transform: uppercase;
    letter-spacing: 4px;
    margin: 0 !important;
    margin-bottom: -15px !important; /* Pulls closer to the number below */
    padding-left: 5px;
    
    /* Remove 'order' properties if you had them */
    order: unset !important;
}

.car-detail-page .spec-value {
    font-family: 'Michroma', sans-serif;

    /* THIS IS THE LINE THAT CONTROLS SIZE */
    font-size:12vw; 

    font-weight: 900;
    line-height: 0.8;      
    letter-spacing: -6px;
    color: #ffffff;
    display: flex;
    align-items: baseline; 
    text-shadow: 0 0 60px rgba(0, 48, 135, 0.4);
    margin: 0;
    margin-bottom: 5px !important;
    margin-top: 0 !important;
    line-height: 0.85 !important;
}

.car-detail-page .spec-value small {
    font-size: 2rem !important;
    font-family: 'Inter', sans-serif !important;
    margin-left: 15px !important;
    transform: translateY(-15px) !important;
}


/* --- THE IMAGE COLUMN --- */
.specs-image-column {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
}

.brz-front-img {
    display: block;
    width: 140%;
    height: auto;
    position: relative; 
    z-index: 2; 
    filter: drop-shadow(0 40px 80px rgba(0,0,0,0.8));
    
    opacity: 0;
    transform: translateX(10%);
    transition: all 1s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.performance-specs-section.is-visible .brz-front-img {
    opacity: 1;
    transform: translateX(0); 
    transition-delay: 0.3s;
}

/* --- CINEMATIC ANIMATIONS & TITLES --- */

/* Base Transitions for Sections */
.highlights-section, 
.gallery-section, 
.configurator-section, 
.variants-section {
    transition: opacity 1s ease-out, transform 1s ease-out;
    background: transparent;
    padding: 100px 5%;
}

/* --- GLOBAL TITLES (Larger Colored Words) --- */
h2 {
    font-family: 'Michroma', sans-serif;
    font-size: 2.5rem;
    color: white;
    margin-bottom: 10px;
    text-transform: uppercase;
}

/* FIX: Made even larger (1.25em) to pop more */
h2 .red-text {
    font-size: 1.25em; /* INCREASED from 1.15em */
    color: #003087; 
    text-shadow: 0 0 15px rgba(0, 48, 135, 0.6);
    vertical-align: -3px; /* Adjusted alignment for size */
}

/* --- HIGHLIGHTS --- */
.highlights-header { text-align: center; margin-bottom: 80px; }
.highlights-subtitle { font-family: 'Inter', sans-serif; font-size: 1rem; color: #888; letter-spacing: 1px; }

.highlights-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 30px;
    max-width: 1300px;
    margin: 0 auto;
}

.highlight-card {
    opacity: 0;
    transform: translateY(40px);
    background: linear-gradient(145deg, rgba(20, 30, 50, 0.6), rgba(0, 10, 20, 0.8));
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
    border-radius: 4px;
    overflow: hidden;
}

.highlights-section.is-visible .highlight-card { opacity: 1; transform: translateY(0); }
.highlights-section.is-visible .highlight-card:nth-child(1) { transition-delay: 0.1s; }
.highlights-section.is-visible .highlight-card:nth-child(2) { transition-delay: 0.2s; }
.highlights-section.is-visible .highlight-card:nth-child(3) { transition-delay: 0.3s; }

.highlight-card:hover { transform: translateY(-10px) !important; border-color: #003087; box-shadow: 0 30px 60px rgba(0,0,0,0.5); }
.highlight-img-box { position: relative; width: 100%; aspect-ratio: 16 / 10; overflow: hidden; }
.highlight-img-box img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s ease; }
.highlight-card:hover .highlight-img-box img { transform: scale(1.1); }
.card-number { position: absolute; bottom: 15px; right: 20px; font-family: 'Michroma', sans-serif; font-size: 3rem; color: rgba(255, 255, 255, 0.1); z-index: 2; pointer-events: none; }
.highlight-info { padding: 35px 30px; }
.highlight-info h3 { font-family: 'Michroma', sans-serif; font-size: 1.2rem; text-transform: uppercase; margin-bottom: 15px; color: #fff; }
.highlight-info p { font-family: 'Inter', sans-serif; font-size: 0.95rem; line-height: 1.6; color: #aaa; }

/* --- GALLERY --- */
.gallery-section {
    background: #050a14; /* Slightly lighter than pitch black */
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}
.gallery-header, .gallery-main-display { opacity: 0; transform: translateY(30px); transition: all 0.8s ease-out; }
.gallery-section.is-visible .gallery-header { opacity: 1; transform: translateY(0); transition-delay: 0.1s; }
.gallery-section.is-visible .gallery-main-display { opacity: 1; transform: translateY(0); transition-delay: 0.2s; }

.gallery-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 40px; border-bottom: 1px solid #333; padding-bottom: 15px; }
.gallery-title { font-family: 'Michroma', sans-serif; font-size: 2rem; font-weight: 900; letter-spacing: 4px; text-transform: uppercase; }
.red-slash { color: #003087; font-style: italic; margin-right: 10px; }
.gallery-tabs { display: flex; gap: 40px; }
.gallery-tabs button { background: none; border: none; color: #555; font-family: 'Inter', sans-serif; font-size: 0.9rem; font-weight: 700; text-transform: uppercase; letter-spacing: 2px; cursor: pointer; padding: 10px 0; transition: all 0.3s ease; position: relative; }
.gallery-tabs button.active { color: #ffffff; }
.gallery-tabs button.active::after { content: ""; position: absolute; bottom: -16px; left: 0; width: 100%; height: 3px; background: #003087; }
.gallery-main-display { position: relative; width: 100%; aspect-ratio: 16 / 9; background: #111; overflow: hidden; display: flex; align-items: center; justify-content: center; }
.gallery-main-display img { width: 100%; height: 100%; object-fit: cover; transition: opacity 0.4s ease-in-out, transform 0.6s ease; }
.gallery-main-display:hover img { transform: scale(1.02); }
.nav-arrow { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(0, 0, 0, 0.5); color: white; border: none; width: 60px; height: 60px; font-size: 2rem; cursor: pointer; z-index: 10; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; border-radius: 50%; margin: 0 20px; }
.nav-arrow:hover { background: #003087; transform: translateY(-50%) scale(1.1); }
.nav-arrow.prev { left: 0; } .nav-arrow.next { right: 0; }
.fade-in { animation: fadeInImg 0.5s ease-in-out; } @keyframes fadeInImg { from { opacity: 0; } to { opacity: 1; } }

.gallery-thumbnails { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-top: 30px; width: 100%; }
.thumb-wrapper { opacity: 0; transform: translateY(20px); aspect-ratio: 16 / 9; cursor: pointer; overflow: hidden; background: #111; border: 2px solid transparent; transition: all 0.6s ease-out; }
.gallery-section.is-visible .thumb-wrapper { opacity: 0.4; transform: translateY(0); }
.gallery-section.is-visible .thumb-wrapper:nth-child(1) { transition-delay: 0.3s; }
.gallery-section.is-visible .thumb-wrapper:nth-child(2) { transition-delay: 0.4s; }
.gallery-section.is-visible .thumb-wrapper:nth-child(3) { transition-delay: 0.5s; }
.gallery-section.is-visible .thumb-wrapper:nth-child(4) { transition-delay: 0.6s; }
.thumb-wrapper img { width: 100%; height: 100%; object-fit: cover; }
.thumb-wrapper:hover { opacity: 0.8 !important; }
.thumb-wrapper.active-thumb { opacity: 1 !important; border-color: #003087; transform: translateY(-5px) !important; }

/* --- CONFIGURATOR --- */
.configurator-section { padding: 80px 5% 120px 5%; text-align: center; display: flex; flex-direction: column; align-items: center; }
.config-header, .swatch-list, .config-main-img { opacity: 0; transform: translateY(30px); transition: all 1s cubic-bezier(0.2, 0.8, 0.2, 1); }
.configurator-section.is-visible .config-header { opacity: 1; transform: translateY(0); }
.configurator-section.is-visible .config-main-img { opacity: 1; transform: translateY(0); transition-delay: 0.2s; }
.configurator-section.is-visible .swatch-list { opacity: 1; transform: translateY(0); transition-delay: 0.4s; }
.config-header { margin-bottom: 20px; }
.config-container { width: 100%; max-width: 1300px; margin: 0 auto; display: flex; flex-direction: column; align-items: center; margin-top: -10px; }
.config-preview { width: 100%; position: relative; display: flex; justify-content: center; margin-bottom: 5px; }
.config-main-img { width: 100%; max-width: 1050px; height: auto; object-fit: contain; filter: drop-shadow(0 40px 40px rgba(0,0,0,0.5)); transition: transform 0.4s ease, opacity 0.3s ease; }
.config-main-img:hover { transform: scale(1.02); }
.config-controls { display: flex; flex-direction: column; align-items: center; z-index: 5; }
.selected-color-name { font-family: 'Michroma', sans-serif; font-size: 1.4rem; font-weight: 900; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 3px; color: #fff; }
.swatch-list { display: flex; gap: 18px; justify-content: center; padding: 10px; }
.swatch-btn { width: 45px; height: 45px; border-radius: 50%; border: 3px solid #1a1a1a; box-shadow: 0 0 0 1px #555; cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); padding: 0; position: relative; }
.swatch-btn:hover { transform: scale(1.15); box-shadow: 0 0 15px rgba(255,255,255,0.4); }
.swatch-btn.active { border-color: #1a1a1a; box-shadow: 0 0 0 3px #003087, 0 0 20px rgba(0, 48, 135, 0.8); transform: scale(1.25); }

/* --- VARIANTS --- */
.variants-section { padding: 100px 8%; border-top: 1px solid rgba(255,255,255,0.1); text-align: center; }
.variants-header { margin-bottom: 60px; }
.variants-grid { display: flex; flex-wrap: wrap; gap: 40px; max-width: 1300px; margin: 0 auto; justify-content: center; align-items: stretch; }
.variant-card { opacity: 0; transform: translateY(60px); background: linear-gradient(145deg, #0a1120, #000000); border-radius: 8px; overflow: hidden; display: flex; flex-direction: column; transition: all 0.8s cubic-bezier(0.25, 1, 0.5, 1); border: 1px solid rgba(255,255,255,0.1); width: calc(50% - 20px); min-width: 350px; }
.variants-section.is-visible .variant-card { opacity: 1; transform: translateY(0); }
.variants-section.is-visible .variant-card:nth-child(1) { transition-delay: 0.1s; }
.variants-section.is-visible .variant-card:nth-child(2) { transition-delay: 0.3s; }
.variant-card:hover { transform: translateY(-10px) !important; box-shadow: 0 40px 80px rgba(0,0,0,0.5); border-color: #003087; }
.variant-image { padding: 40px; background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, transparent 70%); display: flex; justify-content: center; align-items: center; height: 250px; }
.variant-image img { width: 100%; max-width: 380px; height: auto; object-fit: contain; filter: drop-shadow(0 15px 15px rgba(0,0,0,0.5)); }
.variant-content { padding: 40px; text-align: left; display: flex; flex-direction: column; flex: 1; }
.variant-content h3 { font-family: 'Michroma', sans-serif; font-size: 1.6rem; margin-bottom: 12px; color: #fff; text-transform: uppercase; }
.variant-price-tag { display: flex; flex-direction: column; margin-bottom: 35px; gap: 4px; }
.variant-price-tag small { font-family: 'Inter', sans-serif; font-size: 0.85rem; color: #888; text-transform: uppercase; letter-spacing: 1px; display: block; }
.price-val { font-family: 'Michroma', sans-serif; font-size: 2.2rem; color: #003087; line-height: 1; white-space: nowrap; text-shadow: 0 0 10px rgba(0, 48, 135, 0.5); }
.variant-spec-list { margin-top: auto; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 25px; }
.v-spec-item { display: flex; justify-content: space-between; align-items: center; min-height: 48px; padding: 4px 0; border-bottom: 1px dashed rgba(255,255,255,0.1); }
.v-spec-item:last-child { border-bottom: none; }
.v-label { font-family: 'Inter', sans-serif; font-size: 0.85rem; color: #888; font-weight: 600; }
.v-value { font-family: 'Inter', sans-serif; font-size: 0.95rem; color: #fff; font-weight: 700; }

@media (max-width: 900px) {
    .variant-card { width: 100%; min-width: unset; }
    .gallery-thumbnails { grid-template-columns: repeat(2, 1fr); }
    .gallery-main-display { height: auto; }
}
@media (max-width: 768px) {
    .close-fullscreen { top: 20px; right: 20px; font-size: 2.5rem; }
    .fullscreen-content { width: 100%; }
    .fullscreen-content .nav-arrow { width: 50px; height: 50px; font-size: 1.5rem; }
    .config-main-img { max-width: 90%; }
    .selected-color-name { font-size: 1.1rem; }
    .swatch-btn { width: 30px; height: 30px; }
}
html { scroll-behavior: smooth; }

/* --- FULLSCREEN --- */
.fullscreen-btn { position: absolute; bottom: 20px; right: 20px; background: rgba(0, 0, 0, 0.6); border: none; width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; border-radius: 4px; cursor: pointer; z-index: 15; transition: all 0.3s ease; backdrop-filter: blur(5px); }
.fullscreen-btn:hover { background: #003087; transform: scale(1.1); }
.fullscreen-btn svg { width: 20px; height: 20px; }
.fullscreen-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0, 0, 0, 0.98); z-index: 9999; display: flex; align-items: center; justify-content: center; cursor: zoom-out; }
.fullscreen-content { position: relative; width: 90%; height: 80%; display: flex; align-items: center; justify-content: center; cursor: default; }
.fullscreen-content img { max-width: 100%; max-height: 100%; object-fit: contain; box-shadow: 0 0 50px rgba(0,0,0,0.8); border-radius: 4px; user-select: none; }
.fullscreen-content .nav-arrow { background: rgba(255, 255, 255, 0.05); margin: 0; }
.fullscreen-content .nav-arrow:hover { background: #003087; }
.close-fullscreen { position: absolute; top: 30px; right: 40px; background: none; border: none; color: white; font-size: 3rem; font-weight: 200; cursor: pointer; line-height: 1; z-index: 10001; transition: color 0.3s ease; }
.close-fullscreen:hover { color: #003087; }
body:has(.fullscreen-overlay) { overflow: hidden; }

@keyframes fadeInUpShort {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.selected-color-name {
    font-family: 'Michroma', sans-serif;
    font-size: 1.4rem; 
    font-weight: 900;
    margin-bottom: 20px;
    text-transform: uppercase; 
    letter-spacing: 3px;
    color: #fff;
    
    /* ADDED: Smooth transition for the glow */
    transition: text-shadow 0.3s ease;
}

.swatch-btn {
    width: 45px; 
    height: 45px; 
    border-radius: 50%;
    border: 3px solid #1a1a1a; /* Dark border keeps it separated from background */
    box-shadow: 0 0 0 1px #555; /* Thin outer ring */
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    position: relative;
}

.swatch-btn:hover {
    transform: scale(1.15);
}

.swatch-btn.active {
    border-color: #1a1a1a;
    transform: scale(1.25);
    /* White Ring + Breathing Glow */
    animation: pulseRing 3s infinite ease-in-out;
}

.book-now-wrapper {
  display: flex;
  justify-content: center;
  margin: 60px 0;
}

.book-now-btn {
  background: linear-gradient(135deg, #1e5bff, #0039cb);
  color: white;
  border: none;
  padding: 14px 40px;
  font-size: 16px;
  font-weight: 600;
  border-radius: 30px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.book-now-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(30, 91, 255, 0.35);
}



@keyframes pulseRing {
    0% { box-shadow: 0 0 0 3px #fff, 0 0 10px rgba(255,255,255,0.2); }
    50% { box-shadow: 0 0 0 3px #fff, 0 0 20px rgba(255,255,255,0.5); }
    100% { box-shadow: 0 0 0 3px #fff, 0 0 10px rgba(255,255,255,0.2); }
}


.config-preview {
    width: 100%; 
    position: relative;
    display: flex; 
    justify-content: center; 
    margin-bottom: 5px;
    isolation: isolate; 
}

.config-main-img {
    width: 100%; 
    max-width: 1050px; 
    height: auto;
    object-fit: contain;
    filter: drop-shadow(0 40px 40px rgba(0,0,0,0.5));
    transition: transform 0.4s ease, opacity 0.3s ease;
    
    position: relative;
    z-index: 2; 
    /* REMOVED margin-top */
}

.config-main-img:hover { transform: scale(1.02); }